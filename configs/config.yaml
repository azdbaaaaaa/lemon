# Lemon Configuration
# 环境变量可以覆盖配置: LEMON_<SECTION>_<KEY>
# 例如: LEMON_SERVER_PORT=9090

server:
  host: "0.0.0.0"
  port: 7080
  mode: "debug"           # debug, release, test
  read_timeout: 30s
  write_timeout: 30s

ai:
  provider: "openai"
  api_key: ""             # 建议使用环境变量: LEMON_AI_API_KEY
  model: "gpt-4"
  base_url: "https://api.openai.com/v1"
  options:
    temperature: 0.7
    max_tokens: 4096
    top_p: 1.0

log:
  level: "debug"          # trace, debug, info, warn, error, fatal
  format: "console"       # json, console
  output: "stdout"        # stdout, file
  file_path: "./logs/lemon.log"
  time_format: "RFC3339"  # RFC3339, Unix, UnixMs

mongo:
  uri: "mongodb://localhost:27017"
  database: "lemon"
  max_pool_size: 100
  min_pool_size: 10

redis:
  addr: "localhost:6379"
  password: ""
  db: 0

auth:
  jwt_secret: "your-secret-key-change-in-production"  # JWT密钥（生产环境必须修改）
  access_token_expiry: 24h                             # Access Token过期时间
  refresh_token_expiry: 168h                           # Refresh Token过期时间（7天）

storage:
  type: "local"  # 存储类型：local, oss, s3, minio
  local:
    base_path: "./storage"           # 本地存储基础路径
    base_url: "http://localhost:7080/storage"  # 本地存储基础URL
    presign_expiry: 3600            # 预签名URL过期时间（秒）
  # oss:
  #   endpoint: "oss-cn-hangzhou.aliyuncs.com"  # OSS端点
  #   bucket: "your-bucket-name"                # Bucket名称
  #   access_key_id: "your-access-key-id"       # AccessKey ID
  #   access_key_secret: "your-access-key-secret" # AccessKey Secret
  #   presign_expiry: 3600                      # 预签名URL过期时间（秒）
